<!DOCTYPE html>
<head>
  <style>   
  </style>
</head>
<html>
    <body>
        <div id=entryPoint></div>
    </body>
    <script type="text/javascript">
        var $personEle = null;                                                      
        var $entryPointEle = document.getElementById("entryPoint");
        var $getPostBtn = null;
        var $userPosts = null;
        var $userPostsContainer = document.createElement("div")
        
        window.onload = function start(){
            fetch("https://jsonplaceholder.typicode.com/users")
                .then(response => response.json())
                .then(data => displayPeople(data));
        }

        function displayPeople(peopleData){
                console.log("peopleData", peopleData)
                peopleData.forEach(a => {
                    $personEle = document.createElement("div")
                    $personEle.innerText = "FirstName: " + a.name +  ", Email: " + a.email;
                    $entryPointEle.appendChild($personEle);
                    $getPostBtn = document.createElement("button");
                    $getPostBtn.innerText = "Get User's Posts";
                    $getPostBtn.onclick = function(){ fetch('https://jsonplaceholder.typicode.com/posts/'+ a.id +'/posts')
                        .then((response) => response.json())
                        .then((json) => showUsersPosts(json));}
                    $entryPointEle.appendChild($getPostBtn);
                    $entryPointEle.appendChild($userPostsContainer);
                });  
            }

        function showUsersPosts(posts){
            posts.forEach(b => {
                $userPosts = document.createElement("div")
                $userPosts.innerText = "Title: " + b.title;
                $userPostsContainer.appendChild($userPosts);
            })
        }

    </script>
</html>